(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(44)},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),c=a.n(l),o=a(48),i=a(11),s=a(47),m=a(49),u=a(45),d="SPEED_UP",p="SPEED_DOWN",h="TEMP_UP",E="TEMP_DOWN",b="HEATER_SWITCH",v="POWER_UP",f="POWER_DOWN",g="TIME_UP",N="TIME_DOWN",O=function(){return{type:d}},k=function(){return{type:p}},y=function(){return{type:h}},C=function(){return{type:E}},j=function(){return{type:b}},w=a(2),W=a(8),P=a(9),R=a(12),L=a(10),S=a(13),x=a(3),D=function(e){function t(){return Object(W.a)(this,t),Object(R.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.onClick;return r.a.createElement("button",{type:"button",className:"btn btn-outline-info",onClick:a},t)}}]),t}(n.Component),T=function(e){function t(){return Object(W.a)(this,t),Object(R.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.value,n=e.unit,l=e.icon,c=e.onClickUP,o=e.onClickDOWN;return r.a.createElement("h3",null,r.a.createElement("div",{className:"btn-group"},r.a.createElement(D,{onClick:o},"-"),r.a.createElement("span",{style:{padding:10,width:200,textAlign:"center"}},r.a.createElement("span",{className:"text-info"},r.a.createElement("small",null,r.a.createElement(x.a,{icon:l,style:{marginRight:10}}),t)),r.a.createElement("br",null),a,r.a.createElement("small",null,n)),r.a.createElement(D,{onClick:c},"+")))}}]),t}(n.Component),U=function(e){function t(){return Object(W.a)(this,t),Object(R.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.value,n=e.onChange;return r.a.createElement("h3",null,r.a.createElement("div",{className:"btn-group"},r.a.createElement("span",{style:{padding:10,width:250,textAlign:"center"}},r.a.createElement("span",{className:"text-info"},r.a.createElement("small",null,r.a.createElement(x.a,{icon:w.h,style:{marginRight:10}}),t)),r.a.createElement("br",null),r.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"switch1",checked:a,onChange:n}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"switch1"},a?"allum\xe9":"\xe9teint"))))}}]),t}(n.Component);var _=Object(i.b)(function(e){return{params:e.paramsState}})(function(e){var t=e.params;return r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",null,r.a.createElement("small",{className:"text-info"},"Autonomie"),r.a.createElement("br",null),"~",0|t.autonomie,r.a.createElement("small",null," km")))});var A=Object(i.b)(function(e){return{params:e.paramsState}},function(e){return{onSpeedUP:function(){return e(O())},onSpeedDOWN:function(){return e(k())},onTempUP:function(){return e(y())},onTempDOWN:function(){return e(C())},onHeaterSWITCH:function(){return e(j())}}})(function(e){var t=e.params,a=e.onSpeedUP,n=e.onSpeedDOWN,l=e.onTempUP,c=e.onTempDOWN,o=e.onHeaterSWITCH,i=t.speed,s=t.temp,m=t.heater;return r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("div",{className:"card"},r.a.createElement(_,null),r.a.createElement("div",{className:"card-body"},r.a.createElement(T,{icon:w.i,value:i,unit:" km/h",onClickUP:a,onClickDOWN:n},"Vitesse"),r.a.createElement(T,{icon:w.j,value:s,unit:" \xb0C",onClickUP:l,onClickDOWN:c},"Temp\xe9rature"),r.a.createElement(U,{label:"Chauffage",value:m,onChange:o})),r.a.createElement("div",{className:"card-footer"},r.a.createElement("small",null,"Consommation \xe9lectrique estim\xe9e: ~",0|t.consommation," kWh "))))}),B=function(){return{type:v}},I=function(){return{type:f}},H=function(){return{type:g}},q=function(){return{type:N}};var z=Object(i.b)(function(e){return{params:e.paramsState}},function(e){return{onPowerUP:function(){return e(B())},onPowerDOWN:function(){return e(I())},onTimeUP:function(){return e(H())},onTimeDOWN:function(){return e(q())}}})(function(e){var t,a,n=e.params,l=e.onPowerUP,c=e.onPowerDOWN,o=e.onTimeUP,i=e.onTimeDOWN,s=n.power,m=n.minutes,u=n.charge;return r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",null,r.a.createElement("small",{className:"text-info"},"Charge"),r.a.createElement("br",null),"+ ",u,"%",r.a.createElement("small",null,r.a.createElement("small",{style:{marginLeft:15}},"(~",300*u/100|0," km)"))),"Co\xfbt de la charge: ",(t=s,a=m,new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format((t*(a/60)*.15).toFixed(2)))),r.a.createElement("div",{className:"card-body"},r.a.createElement(T,{icon:w.a,value:s,unit:" kW/h",onClickUP:l,onClickDOWN:c},"Puissance"),r.a.createElement(T,{icon:w.d,value:m,unit:" minutes",onClickUP:o,onClickDOWN:i},"Temps")),r.a.createElement("div",{className:"card-footer"},r.a.createElement("small",null,"Temps de charge (0 \xe0 100%) :",r.a.createElement("ul",null,r.a.createElement("li",null,"22 kW/h = ~2h40"),r.a.createElement("li",null,"11 kW/h = ~5h"),r.a.createElement("li",null,"7 kW/h  = ~10h"),r.a.createElement("li",null,"3 kW/h  = ~25h")),r.a.createElement("i",null,"Au del\xe0 des 80%, le temps de charge est doubl\xe9")))))}),F=a(14),M="https://bornes-irve.philnoug.com",Z=function(e){function t(e){var a;return Object(W.a)(this,t),(a=Object(R.a)(this,Object(L.a)(t).call(this,e))).state={result:[],loading:!1,error:!1,currentLocation:""},a.setBornesResult=a.setBornesResult.bind(Object(F.a)(a)),a.setLoading=a.setLoading.bind(Object(F.a)(a)),a.fetchBornesData=a.fetchBornesData.bind(Object(F.a)(a)),a.onLocationChange=a.onLocationChange.bind(Object(F.a)(a)),a.onLocationSubmit=a.onLocationSubmit.bind(Object(F.a)(a)),a}return Object(S.a)(t,e),Object(P.a)(t,[{key:"setBornesResult",value:function(e){e.length?this.setState({result:e}):this.setState({result:[]})}},{key:"setLoading",value:function(e){this.setState({loading:e})}},{key:"fetchBornesData",value:function(e){var t=this;this.setLoading(!0),fetch("".concat(M).concat("/api/v1/bornes.json","?").concat("location=").concat(e)).then(function(e){return e.json()}).then(function(e){return t.setBornesResult(e)}).then(function(e){return t.setLoading(!1)}).catch(function(e){return t.setState({error:e})})}},{key:"onLocationChange",value:function(e){var t=e.target.value;this.setState({currentLocation:t})}},{key:"onLocationSubmit",value:function(e){e.preventDefault(),this.loading||this.state.currentLocation.length>3&&this.fetchBornesData(this.state.currentLocation)}},{key:"render",value:function(){var e=this.state,t=e.result,a=e.loading,n=e.error,l=e.currentLocation;return r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",null,r.a.createElement("small",{className:"text-info"},"Bornes autour de"),r.a.createElement("form",{onSubmit:this.onLocationSubmit},r.a.createElement("input",{type:"text",onChange:this.onLocationChange,value:l,size:"8",placeholder:"ville ?"})))),0===l.length&&r.a.createElement("span",null,"Entrez le nom d'une ville d'arriv\xe9e pour voir les bornes de recharge \xe0 proximit\xe9..."),n&&r.a.createElement("span",null,"Pas de r\xe9seau ?!?"),a&&!n&&r.a.createElement("div",{className:"colored_div"},"Chargement..."),!a&&t.length>0&&r.a.createElement("span",null,r.a.createElement("div",{className:"card-body"},r.a.createElement(V,{list:t})),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"colored_div"},r.a.createElement("small",null,"Liste limit\xe9e \xe0 ",t.length," bornes dans un rayon de 20 kms. Cliquez sur le nom d'une borne pour en voir les d\xe9tails."))))),r.a.createElement("br",null))}}]),t}(n.Component),V=function(e){var t=e.list;return r.a.createElement("table",{className:"table table-condensed"},r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement("small",null,"~ ",0|e.distance," km"),r.a.createElement("br",null),r.a.createElement("a",{href:"".concat(M,"/bornes/").concat(e.id),rel:"noopener noreferrer"},e.n_station),r.a.createElement("br",null),r.a.createElement(x.a,{icon:w.a,style:{marginRight:5}}),0|parseInt(e.puiss_max)," kWh",r.a.createElement(x.a,{icon:w.g,style:{marginLeft:15,marginRight:5}}),e.type_prise,r.a.createElement(x.a,{icon:w.c,style:{marginLeft:15,marginRight:5}}),e.acces_recharge))})))},J=Z,G=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",null,r.a.createElement("small",{className:"text-info"},"A propos"))),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",null,"Vivez plus sereinement l'aventure de la conduite \xe9lectrique !",r.a.createElement("br",null),r.a.createElement("br",null),"Ce \"relaxateur\" tente de faire baisser la pression et l'angoisse de la panne, en estimant l'autonomie et le temps de recharge ainsi que les bornes \xe0 proximit\xe9 d'un lieu d'arriv\xe9e."),r.a.createElement("br",null),r.a.createElement(x.a,{icon:w.f,style:{marginRight:10}}),'Sur mobile: Epinglez l\'App sur votre "Homescreen" afin de pouvoir y acc\xe9der plus facilement',r.a.createElement("br",null)),r.a.createElement("div",{className:"card-footer"},r.a.createElement("pre",null,r.a.createElement("i",null,"Application non-officielle, ",r.a.createElement("br",null),"d\xe9velopp\xe9 pour un usage personnel",r.a.createElement("br",null),"par un utilisateur de ZOE 4.0 (41kW)")),r.a.createElement(x.a,{icon:w.e,style:{marginRight:10}}),"L'estimation de l'autonomie est approximative. Elle est calcul\xe9e \xe0 partir de donn\xe9es trouv\xe9es sur le net.",r.a.createElement("br",null),r.a.createElement(x.a,{icon:w.c,style:{marginRight:10}}),"Le tarif utilis\xe9 pour estimer le co\xfbt d'une charge est celui d'EDF, \xe0 0.15\u20ac le kWh (heures pleines).",r.a.createElement("br",null),r.a.createElement(x.a,{icon:w.a,style:{marginRight:10}}),"La liste des bornes est bas\xe9e sur le ",r.a.createElement("a",{href:"https://www.data.gouv.fr/fr/datasets/fichier-consolide-des-bornes-de-recharge-pour-vehicules-electriques/#",target:"_blank",rel:"noopener noreferrer"},"fichier consolid\xe9 des bornes de recharge IRVE (Ao\xfbt 2019)")," fourni par data.gouv.fr. Ces donn\xe9es sont import\xe9es r\xe9guli\xe8rement. Elles sont consultables sur mon site ",r.a.createElement("a",{href:"https://bornes-irve.philnoug.com"},"bornes-irve.philnoug.com"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(x.a,{icon:w.b,style:{marginRight:10}}),"Code source disponible sur ",r.a.createElement("a",{href:"https://github.com/philippe-nougaillon/Relax-en-ZOE",target:"_blank",rel:"noopener noreferrer"},"GitHub"))),r.a.createElement("br",null))},$=function(e){var t=e.store;return r.a.createElement(i.a,{store:t},r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Relax en ZOE :)"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"collapsibleNavbar"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.a,{exact:!0,className:"nav-link",activeClassName:"active",to:"/"},"Autonomie")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.a,{className:"nav-link",activeClassName:"active",to:"/charge"},"Charge")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.a,{className:"nav-link",activeClassName:"active",to:"/bornes"},"Bornes")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.a,{className:"nav-link",activeClassName:"active",to:"/about"},"A propos"))))),r.a.createElement("div",{className:"content"},r.a.createElement(u.a,{exact:!0,path:"/",component:A}),r.a.createElement(u.a,{path:"/charge",component:z}),r.a.createElement(u.a,{path:"/bornes",component:J}),r.a.createElement(u.a,{path:"/about",component:G})))))},K=a(16),Q=a(27),X=a(7),Y={autonomie:292,speed:80,temp:20,heater:!1,power:22,minutes:60,charge:40,consommation:11.12};function ee(e,t,a){var n={autonomie:0,consommation:0},r=0,l=0;if(r=e/(l={50:5.35,60:6.83,70:8.83,80:11.12,90:13.82,100:17.75,110:22.22,120:27.33,130:32.7}[e])*41,r-=r*{40:-5,30:-2.5,20:0,10:2.5,0:10,"-10":20}[t]/100,a&&t<=10){var c={10:3,0:5,"-10":10}[t];r-=r*c/100,l+=l*c/100}return n.autonomie=r,n.consommation=l,n}function te(e,t){var a=1e3*e/60*t/1e3,n=a-20*a/100,r=Math.round(n/43*100);return r<=100?r:null}var ae,ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return function(e,t){var a=e.speed+10,n=ee(a,e.temp,e.heater),r=n.autonomie,l=n.consommation;return r?Object(X.a)({},e,{speed:a,autonomie:r,consommation:l}):e}(e);case p:return function(e,t){var a=e.speed-10,n=ee(a,e.temp,e.heater),r=n.autonomie,l=n.consommation;return r?Object(X.a)({},e,{speed:a,autonomie:r,consommation:l}):e}(e);case h:return function(e,t){var a=e.temp+10,n=e.heater,r=ee(e.speed,a,n),l=r.autonomie,c=r.consommation;return n=a<=10,l?Object(X.a)({},e,{temp:a,autonomie:l,heater:n,consommation:c}):e}(e);case E:return function(e,t){var a=e.temp-10,n=e.heater,r=ee(e.speed,a,n),l=r.autonomie,c=r.consommation;return n=a<=10,l?Object(X.a)({},e,{temp:a,autonomie:l,heater:n,consommation:c}):e}(e);case b:return function(e,t){var a=!e.heater,n=ee(e.speed,e.temp,a),r=n.autonomie,l=n.consommation;return Object(X.a)({},e,{heater:a,autonomie:r,consommation:l})}(e);case v:return function(e,t){var a=e.power+1,n=te(a,e.minutes);return n?Object(X.a)({},e,{power:a,charge:n}):e}(e);case f:return function(e,t){var a=e.power-1,n=te(a,e.minutes);return n?Object(X.a)({},e,{power:a,charge:n}):e}(e);case g:return function(e,t){var a=e.minutes+10,n=te(e.power,a);return n?Object(X.a)({},e,{minutes:a,charge:n}):e}(e);case N:return function(e,t){var a=e.minutes-10,n=te(e.power,a);return n?Object(X.a)({},e,{minutes:a,charge:n}):e}(e);default:return e}},re=Object(K.c)({paramsState:ne}),le=Object(Q.createLogger)(),ce=Object(K.d)(re,Object(K.a)(le)),oe=(a(42),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function ie(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(o.a,{basename:"/AutonomieZoe_ReactRedux"},r.a.createElement($,{store:ce})),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",function(){var e="".concat("/AutonomieZoe_ReactRedux","/service-worker.js");oe?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ie(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e,ae),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):ie(e,ae)})}},[[29,2,1]]]);
//# sourceMappingURL=main.d22465c8.chunk.js.map